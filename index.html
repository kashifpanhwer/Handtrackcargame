
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Hand Control Car Game</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  overflow:hidden;
  font-family:Arial;
  background:#000;
}

/* Camera */
#video{
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  object-fit:cover;
  z-index:1;
  transform: scaleX(-1); /* mirror */
}

/* Dark overlay */
#overlay{
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  background:rgba(0,0,0,0.35);
  z-index:2;
}

/* Road */
#road{
  position:absolute;
  bottom:0;
  left:50%;
  transform:translateX(-50%);
  width:220px;
  height:100%;
  background:rgba(50,50,50,0.9);
  z-index:3;
}

/* Car */
#car{
  width:60px;
  height:100px;
  background:#ff2a2a;
  position:absolute;
  bottom:20px;
  left:50%;
  transform:translateX(-50%);
  border-radius:10px;
}
</style>
</head>

<body>

<video id="video" autoplay playsinline></video>
<div id="overlay"></div>

<div id="road">
  <div id="car"></div>
</div>

<script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js"></script>

<script>
const video = document.getElementById("video");
const car = document.getElementById("car");
const road = document.getElementById("road");

let roadWidth = 220;

const hands = new Hands({
  locateFile: f => `https://cdn.jsdelivr.net/npm/@mediapipe/hands/${f}`
});

hands.setOptions({
  maxNumHands:1,
  minDetectionConfidence:0.7,
  minTrackingConfidence:0.7
});

hands.onResults(results=>{
  if(results.multiHandLandmarks.length){
    let handX = results.multiHandLandmarks[0][8].x; // index finger
    let carX = handX * roadWidth - 30;

    if(carX < 0) carX = 0;
    if(carX > roadWidth-60) carX = roadWidth-60;

    car.style.left = carX + "px";
  }
});

const camera = new Camera(video,{
  onFrame: async()=>{
    await hands.send({image:video});
  },
  width:640,
  height:480
});
camera.start();
</script>

</body>
</html>
